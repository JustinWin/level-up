{% extends 'base.html' %}
{% block content %}
{% include "nav/navbar.html" %}

<p style="float:left;color: white;font-size: 30px;margin-left: 100px;margin-top: 30px;"></p>

<div class="profile_page_headers w-50 m-auto">
  <div>
    <img src="/static/assets/profile_icon.png" height="300px" alt="Profile Icon" class="profile_img" />
  </div>

  <div class="m-4 card text-bg-dark">
    <div class="card-header">
      <h2>Total Experience: {{ exp }} XP</h2>
    </div>
    <div class="card-body">
      <div class="expBar">
        <div id="total-exp-bar" class="expFill">Lv.1</div>
      </div>
    </div>
  </div>

  <div class="m-4 card text-bg-dark">
    <div class="card-header">

      <h1>Skills</h1>
    </div>
    <div class="card-body">

      <div>
        <h3>Learning</h3>
        <div class="expBar">
          <div id="learnBar" class="expFill">Lv.1</div>
        </div>

        <h3>Working</h3>
        <div class="expBar">
          <div id="workBar" class="expFill">Lv.1</div>
        </div>

        <h3>Exercising</h3>
        <div class="expBar">
          <div id="exerciseBar" class="expFill">Lv.1</div>
        </div>

      </div>
    </div>
  </div>

  <div>
    <div class="m-4 card text-bg-dark">
      <div class="card-header">
        <h1>Badges</h1>
      </div>
      <div class="card-body">
        <!-- Carousel -->
        <div id="demo" class="carousel slide" style="height: 500px">

          <!-- Indicators/dots -->
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
          </div>

          <!-- The slideshow/carousel -->
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="/static/assets/medal_badge.png" alt="Medal Badge" style="height: 400px;">
              <div class="carousel-caption d-none d-md-block">
                <h5>Six is Better Than Five</h5>
                <p>Complete 6 Tasks</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="/static/assets/streak_badge.png" alt="Streak Badge" style="height: 400px;">
              <div class="carousel-caption d-none d-md-block">
                <h5>The Week-long Grind</h5>
                <p>Create 7 Tasks Days in a Row</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="/static/assets/rocket_badge.png" alt="Rocket Badge" style="height: 400px;">
              <div class="carousel-caption d-none d-md-block">
                <h5>That's one small step for a man, one giant leap for mankind.</h5>
                <p>Create Your First Task</p>
              </div>
            </div>
          </div>

          <!-- Left and right controls/icons -->
          <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
          </button>
        </div>
      </div>
    </div>

  </div>



  <script>
    function totalExp() {
      var i = 0;
      if (i == 0) {
        i = 1;
        var elem = document.getElementById("total-exp-bar");
        var width = 1;
        var id = setInterval(frame, 10);
        function frame() {
          if (width >= 100) {
            clearInterval(id);
            i = 0;
          } else {
            width++;
            elem.style.width = width + "%";
          }
        }
      }
    }
    totalExp();

    function learnExp() {
      var i = 0;
      if (i == 0) {
        i = 1;
        var elem = document.getElementById("learnBar");
        var width = 1;
        var id = setInterval(frame, 10);
        function frame() {
          if (width >= 100) {
            clearInterval(id);
            i = 0;
          } else {
            width++;
            elem.style.width = width + "%";
          }
        }
      }
    }
    learnExp();

    function workExp() {
      var i = 0;
      if (i == 0) {
        i = 1;
        var elem = document.getElementById("workBar");
        var width = 1;
        var id = setInterval(frame, 10);
        function frame() {
          if (width >= 100) {
            clearInterval(id);
            i = 0;
          } else {
            width++;
            elem.style.width = width + "%";
          }
        }
      }
    }
    workExp();

    function exerExp() {
      var i = 0;
      if (i == 0) {
        i = 1;
        var elem = document.getElementById("exerciseBar");
        var width = 1;
        var id = setInterval(frame, 10);
        function frame() {
          if (width >= 100) {
            clearInterval(id);
            i = 0;
          } else {
            width++;
            elem.style.width = width + "%";
          }
        }
      }
    }
    exerExp();

    // Initalizes Navigation Bar
    $('.mdc-tab-bar').each((index, element) => {
      mdc.tabBar.MDCTabBar.attachTo(element);
    });

  </script>
  {% endblock %}